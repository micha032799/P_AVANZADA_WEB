@model Progra_Avanzada_W.Entidades.Usuario

@{
    ViewData["Title"] = "IniciarSesion";
    Layout = "~/Views/Shared/_Layout_Externo.cshtml";
}
 
@using (Html.BeginForm("IniciarSesion", "Home", FormMethod.Post, new { @class = "pt-3", id = "loginForm" }))
{
    <p class="font-weight-bold">@ViewBag.MensajePantalla</p>
    <br />
    <div class="form-group col-md-15 mb-3">
        <div class="form-line">
            @Html.TextBoxFor(m => m.Correo, new { @class = "form-control form-control-lg", @type = "text", @required = "true", @placeholder = "Correo electrónico" })
            @Html.ValidationMessageFor(m => m.Correo, null, new { @style = "color:red" })
        </div>
    </div>
    <div class="form-group col-md-15 mb-3">
        <div class="form-line">
            @Html.TextBoxFor(m => m.Contrasenna, new { @class = "form-control form-control-lg", @type = "password", @required = "true", @placeholder = "Contraseña" })
        </div>
    </div>

    <div class="mt-3 text-center mt-4">
        <input type="submit" class="btn btn-block btn-primary btn-lg font-weight-bold auth-form-btn" style="text-decoration:none; font-size: 100%; background-color: #fbd704 !important; color:black;" value="Iniciar Sesión">
    </div>
  @*   <div class="captcha-container mt-3" id="captchaContainer">
        <div class="g-recaptcha" data-sitekey="6Lc2r7IpAAAAANPI6ywEImU3GRwS2Ze93CPSE8Ch"></div>
    </div> *@
    <div class="text-center mt-4 font-weight-light">
        ¿No tienes una cuenta? <a href="@Url.Action("RegistrarUsuario", "Home")" class="font-weight-bold" style="text-decoration:none">Registrarse</a> <br />
    </div>
    <div style="text-align:center; margin-top:2%">
        <a href="@Url.Action("RecuperarAcceso","Home")" class="text-center">¿Olvidaste la contraseña?</a>
    </div>
}


<script>
    function validarCaptcha() {
        var response = grecaptcha.getResponse();
        if (response.length == 0) {
            // El captcha no se ha completado
            Swal.fire({
                icon: 'error',
                title: '¡Hubo un error!',
                text: 'Por favor, completa el captcha.'
            });
        } else {
            // El captcha se ha completado, enviar el formulario
            document.getElementById("loginForm").submit();
        }
    }
</script>


<script src="~/js/consultanombreapi.js"></script>
<script src="https://www.google.com/recaptcha/api.js" async defer></script>

